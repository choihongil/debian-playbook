---

- name: config git
  copy: src=gitconfig dest={{ ansible_user_dir }}/.gitconfig

- name: config zsh
  copy: src=zshrc dest={{ ansible_user_dir }}/.zshrc

- name: set zsh as login shell and add docker to groups
  user: name={{ ansible_user_id }} shell=/usr/bin/zsh groups=docker append=yes
  become: yes

- name: config tmux
  copy: src=tmux.conf dest={{ ansible_user_dir }}/.tmux.conf

#- name: config vim
#  copy: src=vim/ dest={{ ansible_user_dir }}

#- name: install vim plugins
#  shell: vim -u {{ ansible_user_dir }}/.vim/plugin.vim +PluginInstall +qall

# curl -L -o docker-compose-zsh-completion https://raw.githubusercontent.com/docker/compose/$(docker-compose version --short)/contrib/completion/zsh/_docker-compose
- name: docker-compose zsh completion
  copy: src=docker-compose-zsh-completion dest=/usr/local/share/zsh/site-functions/_docker-compose
  become: yes
